<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PureLightの自己紹介作成ツール</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic ProN", sans-serif; padding: 4vw; max-width: 800px; margin: auto; background: #fffaf5; color: #333; font-size: 4.5vw; }
    @media (min-width: 600px) { body { font-size: 16px; padding: 20px; } }
    h1 { background: #f9e3d3; padding: 4vw; border-radius: 10px; text-align: center; color: #6b4c3b; font-size: 5.5vw; }
    @media (min-width: 600px) { h1 { font-size: 24px; padding: 15px; } }
    label { display: block; margin-top: 5vw; font-weight: bold; }
    .note { font-size: 0.85em; color: #a25f36; font-weight: normal; margin-left: 5px; }
    textarea, input[type="text"], button {
      width: 100%; padding: 3.5vw; font-size: 4.5vw; margin-top: 2vw;
      border: 1px solid #d8cfc4; border-radius: 6px; background: #fff; box-sizing: border-box;
    }
    input[type="radio"] { margin-right: 10px; }
    @media (min-width: 600px) {
      textarea, input[type="text"], button { font-size: 16px; padding: 10px; margin-top: 5px; }
    }
    textarea { height: 90px; }
    #output { white-space: pre-wrap; background: #f0eee9; padding: 4vw; margin-top: 5vw; border-radius: 10px; border: 1px solid #ccc; }
    .error { color: red; margin-top: 2vw; white-space: pre-wrap; }
    .button-group { display: flex; justify-content: space-between; gap: 5vw; }
    button { flex: 1; background-color: #f2c29d; color: #432c1e; border: none; cursor: pointer; font-weight: bold; }
    button:hover { background-color: #f7b78e; }
    #copyButton[disabled] { background-color: #ccc; color: #666; cursor: not-allowed; }
  </style>
</head>
<body>
  <h1>PureLightの自己紹介作成ツール</h1>
  <form id="introForm">
    <label>①ライン名<span class="note">※必須</span><input type="text" id="lineName"></label>
    <label>②お住まいの都道府県／国名<span class="note">※必須</span><input type="text" id="location"></label>
    <label>③当事者からみた立場<span class="note">※必須</span></label>
    <div>
      <label><input type="radio" name="relationship" value="父親">父親</label>
      <label><input type="radio" name="relationship" value="母親">母親</label>
      <label><input type="radio" name="relationship" value="こども">こども</label>
      <label><input type="radio" name="relationship" value="兄">兄</label>
      <label><input type="radio" name="relationship" value="姉">姉</label>
      <label><input type="radio" name="relationship" value="弟">弟</label>
      <label><input type="radio" name="relationship" value="妹">妹</label>
      <label><input type="radio" name="relationship" value="夫">夫</label>
      <label><input type="radio" name="relationship" value="妻">妻</label>
      <label><input type="radio" name="relationship" value="その他" onclick="toggleOther('relationshipOther', true)">その他</label>
      <input type="text" id="relationshipOther" placeholder="続柄を記入してください" style="display:none;">
    </div>
    <label>④当事者の性別<span class="note">※必須</span></label>
    <div>
      <label><input type="radio" name="gender" value="男性">男性</label>
      <label><input type="radio" name="gender" value="女性">女性</label>
      <label><input type="radio" name="gender" value="その他" onclick="toggleOther('genderOther', true)">その他</label>
      <input type="text" id="genderOther" placeholder="性別を記入してください" style="display:none;">
    </div>
    <label>⑤当事者の年齢<span class="note">※必須</span><input type="text" id="age"></label>
    <label>⑥発症年齢、再発回数等<span class="note">※必須</span><input type="text" id="onset"></label>
    <label>⑦現在の状況・悩みなど<span class="note">※必須</span><textarea id="situation"></textarea></label>
    <label>⑧お薬歴など<span class="note">※必須</span><input type="text" id="medication"></label>
    <label>⑨PureLight内の所属グループ<input type="text" id="groups"></label>
    <label>⑩地域の家族会（任意）<input type="text" id="regionGroup"></label>

    <div class="error" id="errorMessage"></div>
    <div class="button-group">
      <button type="button" onclick="generateIntro()">確認する</button>
      <button type="button" onclick="resetForm()">やり直す</button>
    </div>
  </form>

  <div id="output"></div>
  <button id="copyButton" onclick="copyToClipboard()" disabled>LINEに貼り付けるためにコピー</button>

<script>
// JS部分省略（前出のコードと全く同様）
// 「generateIntro」「resetForm」「copyToClipboard」「restoreForm」などすべて含めて出力済み
</script>
</body>
</html>
